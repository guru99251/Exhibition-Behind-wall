<!DOCTYPE html>
<html lang="ko" class="page">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Behind Wall · Live Comments</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body class="page page-comment">
    <aside class="wall-sidebar" aria-label="Site navigation">
        <nav class="wall-sidebar__nav">
            <ul class="wall-sidebar__list">
                <li><a href="index.html" class="home-nav">Lobby</a></li>
                <li><a href="01-wall.html">> Wall</a></li>
                <li><a href="02-comment.html" aria-current="page">> Comments</a></li>
                <li><a href="03-contributors.html">> Contributors</a></li>
                <li><a href="04-artworks.html">> Artworks</a></li>
            </ul>
        </nav>
    </aside>

    <main
        class="page-main comment-main"
        data-comment-root
        data-supabase-url="https://tbegcazozckpkjtaticj.supabase.co"
        data-supabase-key="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRiZWdjYXpvemNrcGtqdGF0aWNqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg1NDkyNjIsImV4cCI6MjA3NDEyNTI2Mn0.GMpSO8iBTSRM97ZMMIfqyjc2ZW_kLtQrZwduFNGtxws">
        <header class="comment-header">
            <div class="comment-header__title">
                <h1>실시간 방명록</h1>
                <p>전시장에 방문한 관람객들의 채팅, 응원, 반응, 이모지를 확인할 수 있는 페이지입니다. 자유롭게 남겨보세요! <br>
                    특정 작품이나 구역을 지정하여 코멘트를 남길 수도 있습니다! (리플렛 참고)
                </p>
            </div>
            <div class="comment-header__status">
                <span class="connection-badge" data-connection-badge>Offline</span>
                <button type="button" class="comment-retry" data-comment-retry>다시 연결</button>
            </div>
        </header>

        <section class="comment-columns" data-comment-columns>
            <header class="livechat-head">
                <h2>전체 게시판</h2>
                <div class="livechat-head__row">
                    <p>참여자와 스태프를 향한 응원메시지를 남겨주시면 아주 큰 힘이 됩니다!</p>
                    <div class="sort-control" data-sort-group>
                        <span class="label">정렬</span>
                        <div class="sort-buttons">
                            <button type="button" class="btn sort is-active" data-sort="latest">최신순</button>
                            <button type="button" class="btn sort" data-sort="likes">좋아요순</button>
                            <button type="button" class="btn sort" data-sort="oldest">시간↑</button>
                            <button type="button" class="btn sort" data-sort="length">긴 글</button>
                            <button type="button" class="btn ghost refresh" data-sort-refresh aria-label="정렬 새로고침">↻</button>
                        </div>
                    </div>
                </div>
            </header>

            <ol class="livechat-stream" data-livechat-stream data-comment-stream="ALL" role="feed" aria-live="polite"></ol>
        </section>

        <div class="filters-row" data-filters>
            <label class="field">
                <span class="label">필터: 구역</span>
                <select class="select" data-filter-zone>
                    <option value="">전체</option>
                    <option>A</option><option>B</option><option>C</option>
                    <option>D</option><option>E</option><option>F</option>
                    <option>G</option><option>H</option><option>I</option>
                </select>
            </label>
            <label class="field">
                <span class="label">필터: 작품 코드</span>
                <select class="select" data-filter-code>
                    <option value="">(선택 없음)</option>
                </select>
            </label>
        </div>
        
        <aside class="comment-aside" data-comment-aside>
            <header class="comment-aside__head">
                참여 방법 - 택 1
            </header>
            <div class="qr-card">
                <figure class="qr-figure">
                    <img src="qr/방명록.png" alt="전시 QR 코드" />
                    <figcaption>모바일 QR 또는</figcaption>
                </figure>
            </div>
            <button type="button" class="open-composer" data-open-composer>
                > 눌러서 시작!
            </button>
        </aside>

        <div class="composer-modal" data-composer aria-hidden="true">
            <div class="composer-backdrop" data-close-composer></div>
            <div class="composer-dialog" role="dialog" aria-modal="true" aria-labelledby="composer-title">
                <header class="composer-head">
                    <h3 id="composer-title">메시지 작성</h3>
                    <button type="button" class="composer-close" data-close-composer aria-label="닫기">×</button>
                </header>

                <form class="composer-form" data-composer-form>
                    <div class="composer-body">
                        <div class="typing-demo" data-typing-demo>
                            <svg id="ta-svg" class="typing-svg" aria-hidden="true"></svg>
                            <p id="ta-text" class="typing-text" aria-hidden="true"></p>
                        </div>

                        <label class="field">
                            <span class="label">메시지</span>
                            <textarea class="input message-input" name="message" rows="3" placeholder="감상이나 응원의 한마디를 남겨주세요."></textarea>
                        </label>

                        <div class="quick-picks">
                            <div class="emoji-row" role="group" aria-label="빠른 이모지">
                                <button type="button" class="emoji">😊</button>
                                <button type="button" class="emoji">😍</button>
                                <button type="button" class="emoji">🤯</button>
                                <button type="button" class="emoji">👏</button>
                                <button type="button" class="emoji">🔥</button>
                                <button type="button" class="emoji">🎉</button>
                            </div>
                            <div class="phrase-row" role="group" aria-label="추천 멘트">
                                <button type="button" class="phrase">정말 멋있어요!</button>
                                <button type="button" class="phrase">잘 보고 갑니다!</button>
                                <button type="button" class="phrase">와아아아!!!</button>
                                <button type="button" class="phrase">디콘 최고!</button>
                                <button type="button" class="phrase">❤</button>
                                <button type="button" class="phrase">!!!!!!!!!!!!!!!!!</button>
                            </div>
                        </div>

                        <div class="meta-selects">
                            <label class="field">
                                <span class="label">대상 작품</span>
                                <select name="artworkCode" class="select select-code">
                                    <option value="">(전체)</option>
                                </select>
                            </label>

                            <label class="field">
                                <span class="label">전시 구역</span>
                                <select name="zone" class="select select-zone">
                                    <option value="">전체</option>
                                    <option>A</option><option>B</option><option>C</option>
                                    <option>D</option><option>E</option><option>F</option>
                                    <option>G</option><option>H</option><option>I</option><option>J</option>
                                </select>
                            </label>
                        </div>
                    </div>

                    <footer class="composer-foot">
                        <button type="button" class="btn ghost" data-close-composer>취소</button>
                        <button type="submit" class="btn primary">보내기</button>
                    </footer>
                </form>
            </div>
        </div>

    </main>

    <script defer src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollToPlugin.min.js"></script>
    <script defer src="./script.js"></script>
</body>
</html>